From 70a146b66de396c0d2c6bb6979d2cf58a79f4d7b Mon Sep 17 00:00:00 2001
From: Jeff Epler <jepler@unpythonic.net>
Date: Tue, 6 Mar 2018 20:05:37 -0600
Subject: [PATCH] Ensure that from-future-import is written first

Closes #4, closes #5
---
 yapps/parsetree.py | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/yapps/parsetree.py b/yapps/parsetree.py
index 514d64a..7d7f31a 100644
--- a/yapps/parsetree.py
+++ b/yapps/parsetree.py
@@ -270,9 +270,11 @@ def repr_ignore(self):
 
     def generate_output(self):
         self.calculate()
+        self.write("# Begin -- preamble generated by Yapps\n")
+        self.write("from __future__ import print_function\n")
+        self.write("# End -- preamble generated by Yapps\n")
         self.write(self.preparser)
         self.write("# Begin -- grammar generated by Yapps\n")
-        self.write("from __future__ import print_function\n")
         self.write("import sys, re\n")
         self.write("from yapps import runtime\n")
         self.write("\n")
